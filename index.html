<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="css/style.css">


    <script src="lib/glMatrix-0.9.5.min.js"></script>

    <!-- jquery -->
    <script src="./lib/jquery.js"></script>

    <!-- MIDI -->
    <script src="./lib/jasmid/replayer.js"></script>
    <script src="./lib/jasmid/midifile.js"></script>
    <script src="./lib/jasmid/stream.js"></script>

    <script src="./lib/midi/MIDI/MIDI.js"></script>
    <script src="./lib/midi/Window/DOMLoader.script.js"></script>

    <script src="./lib/midi/inc/Base64.js"></script>
    <script src="./lib/midi/inc/base64binary.js"></script>



    <!-- Own sources -->


    <script src="./js/midi.js"></script>
    <script src="js/core.js" type="text/javascript"></script>


    <!-- Fragment shader program -->
    <script id="shader-fs" type="x-shader/x-fragment">
		    // set medium percision
		    precision mediump float;

		    // uniform attribute for setting the color
		    varying vec4 vColor;
			// spremenljivka se prenese iz vertex shaderja v fragment shader
			// in se interpolira iz natancnosti za vsako vozlisce v natancnost za vsak pixel

		    void main(void) {
	        	// Setting color of fragments to input color
		        gl_FragColor = vColor;
		    }

    </script>


    <!-- Vertex shader program -->
    <script id="shader-vs" type="x-shader/x-vertex">
    		// atributes for setting vertex position and color
		    attribute vec3 aVertexPosition;
		    attribute vec4 aVertexColor; // barva

		    uniform mat4 uMVMatrix;	// model-view matrix
		    uniform mat4 uPMatrix;	// projection matrix

		    varying vec4 vColor;	// variable for passing color value to the fragment shader

			// bilinearna interpolacija
			// iz vertexov -> na piksle
			// ubistvu se to zgodi pri rasterizaciji


		    void main(void) {
		    	// calculate the vertex position
		        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
		        vColor = aVertexColor;
		    }

    </script>

</head>

<body onload="start()" onkeypress="checkPressedKey(event)">

<span>
    Load MIDI file:
    <input type="file" id="file_upload"/>
</span>

<button onclick="lowNote()">Send lowest MIDI note</button><span id="midiLow">min = 0</span>
<button onclick="highNote()">Send highest MIDI note</button><span id="midiHigh">max = 127</span>

<canvas id="glcanvas" width="1280px" height="720px">
    No <code>&lt;canvas&gt;</code> suppport in your browser.
</canvas>

</body>